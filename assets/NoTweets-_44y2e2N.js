import{j as r,g as x,N as h,r as p,O as g,U as D,o as j,k as v}from"./index-B8Mj0rHR.js";import{m as N,a as C,b as U,c as T,d as y,e as S,f as I,g as b,h as k,j as V}from"./TweetLikeBtn-6Vw1ftKm.js";function B(t,e){const s=Y(t);let n;if(s.date){const i=Z(s.date,2);n=G(i.restDateString,i.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);const l=n.getTime();let c=0,d;if(s.time&&(c=O(s.time),isNaN(c)))return new Date(NaN);if(s.timezone){if(d=_(s.timezone),isNaN(d))return new Date(NaN)}else{const i=new Date(l+c),o=new Date(0);return o.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),o.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),o}return new Date(l+c+d)}const m={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},H=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,M=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,R=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Y(t){const e={},a=t.split(m.dateTimeDelimiter);let s;if(a.length>2)return e;if(/:/.test(a[0])?s=a[0]:(e.date=a[0],s=a[1],m.timeZoneDelimiter.test(e.date)&&(e.date=t.split(m.timeZoneDelimiter)[0],s=t.substr(e.date.length,t.length))),s){const n=m.timezone.exec(s);n?(e.time=s.replace(n[1],""),e.timezone=n[1]):e.time=s}return e}function Z(t,e){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=t.match(a);if(!s)return{year:NaN,restDateString:""};const n=s[1]?parseInt(s[1]):null,l=s[2]?parseInt(s[2]):null;return{year:l===null?n:l*100,restDateString:t.slice((s[1]||s[2]).length)}}function G(t,e){if(e===null)return new Date(NaN);const a=t.match(H);if(!a)return new Date(NaN);const s=!!a[4],n=u(a[1]),l=u(a[2])-1,c=u(a[3]),d=u(a[4]),i=u(a[5])-1;if(s)return $(e,d,i)?z(e,d,i):new Date(NaN);{const o=new Date(0);return!F(e,l,c)||!W(e,n)?new Date(NaN):(o.setUTCFullYear(e,l,Math.max(n,c)),o)}}function u(t){return t?parseInt(t):1}function O(t){const e=t.match(M);if(!e)return NaN;const a=f(e[1]),s=f(e[2]),n=f(e[3]);return A(a,s,n)?a*N+s*C+n*1e3:NaN}function f(t){return t&&parseFloat(t.replace(",","."))||0}function _(t){if(t==="Z")return 0;const e=t.match(R);if(!e)return 0;const a=e[1]==="+"?-1:1,s=parseInt(e[2]),n=e[3]&&parseInt(e[3])||0;return L(s,n)?a*(s*N+n*C):NaN}function z(t,e,a){const s=new Date(0);s.setUTCFullYear(t,0,4);const n=s.getUTCDay()||7,l=(e-1)*7+a+1-n;return s.setUTCDate(s.getUTCDate()+l),s}const E=[31,null,31,30,31,30,31,31,30,31,30,31];function w(t){return t%400===0||t%4===0&&t%100!==0}function F(t,e,a){return e>=0&&e<=11&&a>=1&&a<=(E[e]||(w(t)?29:28))}function W(t,e){return e>=1&&e<=(w(t)?366:365)}function $(t,e,a){return e>=1&&e<=53&&a>=0&&a<=6}function A(t,e,a){return t===24?e===0&&a===0:a>=0&&a<60&&e>=0&&e<60&&t>=0&&t<25}function L(t,e){return e>=0&&e<=59}const P=()=>r.jsxs("article",{className:"w-full bg-white shadow-md shadow-neutral-200/50 rounded pl-4 py-4 flex items-center justify-between animate-pulse overflow-hidden relative",children:[r.jsx("div",{className:"w-full flex items-center",children:r.jsxs("div",{className:"w-full flex items-start gap-6",children:[r.jsx("p",{className:"w-14 aspect-square rounded-full bg-neutral-200"}),r.jsxs("div",{className:"flex flex-col gap-y-2 w-full",children:[r.jsx("p",{className:"w-40 h-6 bg-neutral-200"}),r.jsx("p",{className:"w-64 h-4 bg-neutral-200"}),r.jsx("p",{className:"w-56 h-4 bg-neutral-200"})]})]})}),r.jsx("div",{className:"absolute top-2 right-10 flex items-center gap-2"}),r.jsx("div",{className:" w-[30px] h-[60px] aspect-video rounded-tl-full rounded-bl-full bg-green-500/70 pl-4"})]}),Q=({tweetId:t})=>{var l,c;const e=x(d=>h(d,t)),[a,s]=p.useState(null),n=x(g);return p.useEffect(()=>{e&&(i=>{try{const o=V(B(i),new Date().toISOString(),{includeSeconds:!1});return s(o),o}catch{return null}})(e==null?void 0:e.createdAt)},[]),e?r.jsx(U,{children:r.jsx("div",{className:"w-full",children:r.jsxs("div",{className:"w-full flex items-start gap-2",children:[r.jsx("div",{className:"",children:r.jsx("div",{className:"min-w-12",children:r.jsx(D,{userName:e==null?void 0:e.userName,className:"avatar"})})}),r.jsxs("div",{className:"flex flex-col items-start w-full",children:[r.jsxs("div",{className:"flex items-baseline gap-x-1",children:[r.jsx(j,{fullName:(l=e==null?void 0:e.createdBy)==null?void 0:l.fullName,className:"user-fullName"}),r.jsx(v,{userName:`${(c=e==null?void 0:e.createdBy)==null?void 0:c.userName}`,className:"userName"}),r.jsx("span",{className:"text-[8px] text-neutral-400",children:r.jsx(T,{})}),r.jsx("p",{className:"text-xs text-neutral-400 font-normal",children:a})]}),r.jsx(y,{content:e==null?void 0:e.content}),r.jsxs("div",{className:"w-full flex items-center justify-between text-lg pr-5",children:[r.jsx(S,{tweetId:e==null?void 0:e._id,likedBy:e==null?void 0:e.likedBy,currentUserId:n}),r.jsx(I,{tweet:e,currUserId:n}),r.jsx(b,{tweetId:e==null?void 0:e._id}),r.jsx(k,{tweetId:e==null?void 0:e._id,currentUserId:n,tweet:e})]})]})]})})}):r.jsx(P,{})},q="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='120px'%20height='120px'%20viewBox='-0.96%20-0.96%2025.92%2025.92'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%20stroke='%23737373'%20stroke-width='0.9'%20transform='matrix(-1,%200,%200,%201,%200,%200)'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M5.21%2013.5117C4.12%2013.4417%203%2013.8417%202.17%2014.6717C0.61%2016.2317%200.61%2018.7617%202.17%2020.3317C2.7%2020.8617%203.35%2021.2117%204.04%2021.3817C4.42%2021.4817%204.82%2021.5117%205.22%2021.4917C6.17%2021.4517%207.1%2021.0717%207.83%2020.3417C8.86%2019.3117%209.21%2017.8617%208.88%2016.5517C8.72%2015.8617%208.36%2015.2117%207.83%2014.6817C7.11%2013.9517%206.17%2013.5617%205.21%2013.5117ZM7.24%2017.4817C7.24%2017.6917%207.16%2017.8717%207.02%2018.0117C6.88%2018.1517%206.7%2018.2317%206.49%2018.2317H5.75V19.0117C5.75%2019.2217%205.67%2019.4017%205.53%2019.5417C5.39%2019.6817%205.21%2019.7617%205%2019.7617C4.59%2019.7617%204.25%2019.4217%204.25%2019.0117V18.2317H3.5C3.09%2018.2317%202.75%2017.8917%202.75%2017.4817C2.75%2017.0717%203.09%2016.7317%203.5%2016.7317H4.25V16.0217C4.25%2015.6117%204.59%2015.2717%205%2015.2717C5.41%2015.2717%205.75%2015.6117%205.75%2016.0217V16.7317H6.49C6.91%2016.7317%207.24%2017.0717%207.24%2017.4817Z'%20fill='%23fafafa'/%3e%3cpath%20d='M17.25%202.42969H7.75C4.9%202.42969%203%204.32969%203%207.17969V11.6397C3%2011.9897%203.36%2012.2397%203.7%2012.1497C4.12%2012.0497%204.55%2011.9997%205%2011.9997C7.86%2011.9997%2010.22%2014.3197%2010.48%2017.1297C10.5%2017.4097%2010.73%2017.6297%2011%2017.6297H11.55L15.78%2020.4497C16.4%2020.8697%2017.25%2020.4097%2017.25%2019.6497V17.6297C18.67%2017.6297%2019.86%2017.1497%2020.69%2016.3297C21.52%2015.4897%2022%2014.2997%2022%2012.8797V7.17969C22%204.32969%2020.1%202.42969%2017.25%202.42969ZM15.83%2010.8097H9.17C8.78%2010.8097%208.46%2010.4897%208.46%2010.0997C8.46%209.69969%208.78%209.37969%209.17%209.37969H15.83C16.22%209.37969%2016.54%209.69969%2016.54%2010.0997C16.54%2010.4897%2016.22%2010.8097%2015.83%2010.8097Z'%20fill='%23fafafa'/%3e%3c/g%3e%3c/svg%3e",X=()=>r.jsxs("article",{className:"w-full grid place-items-center mt-20",children:[r.jsx("div",{children:r.jsx("img",{src:q,alt:""})}),r.jsx("div",{className:"flex flex-col items-center",children:r.jsx("span",{type:"button",className:"text-green-500 px-2 rounded text-3xl font-extrabold",children:"No Tweets Yet"})})]});export{X as N,Q as S};
